<table border=1><tr valign="top"><td><pre>hanoi = (ndisks, start_peg=1, end_peg=3) -&gt;</pre></td><td><pre>(function() {
  var hanoi;
  hanoi = function(ndisks, start_peg, end_peg) {</pre></td></tr><tr valign="top"><td><pre>  if ndisks
    staging_peg = 1 + 2 + 3 - start_peg - end_peg</pre></td><td><pre>    var staging_peg;
    if (start_peg == null) {
      start_peg = 1;
    }
    if (end_peg == null) {
      end_peg = 3;
    }
    if (ndisks) {
      staging_peg = 1 + 2 + 3 - start_peg - end_peg;</pre></td></tr><tr valign="top"><td><pre>    hanoi(ndisks-1, start_peg, staging_peg)
    console.log "Move disk #{ndisks} from peg #{start_peg} to #{end_peg}"</pre></td><td><pre>      hanoi(ndisks - 1, start_peg, staging_peg);
      console.log("Move disk " + ndisks + " from peg " + start_peg + " to " + end_peg);</pre></td></tr></table>
